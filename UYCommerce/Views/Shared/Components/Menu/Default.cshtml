@model List<Categoria>



<li class="nav-item dropdown me-4">

    <a id="navbarDropdownMenuLink" class="dropdown-toggle text-light text-decoration-none" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Categorias
    </a>

    <ul class="dropdown-menu fade-in-down" aria-labelledby="navbarDropdownMenuLink">

        @foreach (var c in Model)
        {
            if (c.CategoriaPadre is null)
            {
                <li class="dropend">

                    <a class="dropdown-item" href="/search?categoria=@c.Nombre">@c.Nombre</a>

                    <ul class="dropdown-menu dropdown-submenu">

                        @if (c.SubCategorias != null && c.SubCategorias.Any())
                        {
                            foreach (var subCategoria in c.SubCategorias)
                            {
                                <li>
                                    <a href="/search?categoria=@subCategoria.Nombre" class="dropdown-item">@subCategoria.Nombre</a>
                                </li>
                            }
                        }
                    </ul>

                </li>
            }
        }

    </ul>
</li>


